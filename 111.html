<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>社保计算软件-Web版</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.1.1/css/bootstrap.min.css" rel="stylesheet">
		<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.1.1/js/bootstrap.bundle.min.js"></script>
	</head>
	<body>
		<div class="container text-center mt-4">
			<h2>社保计算软件-Web版</h2>
		</div>
		<div class="container mt-3">
			<table class="table table-striped table-bordered table-hover">
			  <tbody>
				  <tr>
					<th>工资</th>  
					<th colspan="3">

						<input type="number" class="form-control" id="salary" placeholder="请输入工资" min="0">
					</th>
					<th>
						<button type="button" onclick="calculate()" class="btn btn-danger btn btn-primary w-100"">计算</button>
					</th>
			  </tr>
		    <tr style="background-color: #347ab6;color: aliceblue;">
		      <th>险种</th>
		      <th>个人%</th>
		      <th>个人金额</th>
			  <th>公司%</th>
			  <th>公司金额</th>
		    </tr>
			<tr>
			  <th>养老</th>
			  <th class="personal-percent">8%</th>
			  <th class="personal-amount"></th>
			  <th class="company-percent">20%</th>
			  <th class="company-amount"></th>
			</tr>
			<tr>
			  <th>医保</th>
			  <th class="personal-percent">2%</th>
			  <th class="personal-amount"></th>
			  <th class="company-percent">6%</th>
			  <th class="company-amount"></th>
			</tr>
			<tr>
			  <th>失业</th>
			  <th class="personal-percent">0.5%</th>
			  <th class="personal-amount"></th>
			  <th class="company-percent">1.5%</th>
			  <th class="company-amount"></th>
			</tr>
			<tr>
			  <th>工伤</th>
			  <th class="personal-percent">0%</th>
			  <th class="personal-amount"></th>
			  <th class="company-percent">0.5%</th>
			  <th class="company-amount"></th>
			</tr>
			<tr>
			  <th>生育</th>
			  <th class="personal-percent">0%</th>
			  <th class="personal-amount"></th>
			  <th class="company-percent">0.8%</th>
			  <th class="company-amount"></th>
			</tr>
			<tr>
			  <th>公积金</th>
			  <th class="personal-percent">12%</th>
			  <th class="personal-amount"></th>
			  <th class="company-percent">12%</th>
			  <th class="company-amount"></th>
			</tr>
			<tr>
			  <th>合计</th>
			  <th>个人合计</th>
			  <th id="total-personal">0.00</th>
			  <th>公司合计</th>
			  <th id="total-company">0.00</th>
			</tr>
			<tr>
			  <th>总额（个人+公司）</th>
			  <th colspan="4" id="total-all">0.00</th>
			</tr>
		  </tbody>
		</table>
		</div>

		<script>
			function calculate() {
				let salary = parseFloat(document.getElementById("salary").value) || 0;
				
				let totalPersonal = 0;  
				let totalCompany = 0;   

				const personalPercents = document.getElementsByClassName("personal-percent");
				const personalAmounts = document.getElementsByClassName("personal-amount");
				
				for (let i = 0; i < personalPercents.length; i++) {
					const percent = parseFloat(personalPercents[i].innerText) / 100;
	
					const amount = (salary * percent).toFixed(2);
				
					personalAmounts[i].innerText = amount;
					totalPersonal += parseFloat(amount);
				}
				const companyPercents = document.getElementsByClassName("company-percent");
				const companyAmounts = document.getElementsByClassName("company-amount");
				
				for (let i = 0; i < companyPercents.length; i++) {
					const percent = parseFloat(companyPercents[i].innerText) / 100;
					const amount = (salary * percent).toFixed(2);
					companyAmounts[i].innerText = amount;
					totalCompany += parseFloat(amount);
				}

				document.getElementById("total-personal").innerText = totalPersonal.toFixed(2);
				document.getElementById("total-company").innerText = totalCompany.toFixed(2);
				document.getElementById("total-all").innerText = (totalPersonal + totalCompany).toFixed(2);
			}
		</script>
	</body>
</html>